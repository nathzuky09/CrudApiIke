{% extends 'base.html' %}

{% block content %}

 <!-- Actualizar datos del funcionario -->

<main class="container mt-5">
    <h1 class="text-center mb-4">Editar Funcionario y Vehículos</h1>

    <!-- Mensajes de éxito -->
    {% if messages %}
        <div class="alert alert-success text-center" role="alert">
            {% for message in messages %}
                {{ message }}
            {% endfor %}
        </div>
    {% endif %}

    <form method="post">
        {% csrf_token %}
        
        <!-- Formulario de Funcionario -->
        <div class="mb-4">
            {{ funcionario_form.as_p }}
        </div>

        <!-- Vehículos Asociados -->
        <div class="mb-4">
            <h2 class="text-center">Vehículos Asociados</h2>
            {% for form in formset %}
                <div class="form-group mb-3">
                    {{ form.as_p }}
                    <div class="form-check">
                        <input type="checkbox" name="{{ form.DELETE.html_name }}" id="{{ form.DELETE.id_for_label }}" class="form-check-input" />
                        <label class="form-check-label" for="{{ form.DELETE.id_for_label }}">
                            Eliminar
                        </label>
                    </div>
                </div>
            {% endfor %}
        </div>

        <div class="text-center">
            <button type="submit" class="btn btn-primary me-2">Guardar Cambios</button>
            <button type="submit" name="delete" value="true" class="btn btn-danger">Eliminar Funcionario y Vehículos</button>
        </div>
    </form>
</main>

{% endblock %}



